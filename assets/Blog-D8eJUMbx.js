import{r as i,j as a,L as C,_ as v}from"./index-ClloTWIi.js";import{f as L,M,r as O}from"./index-BdmxX45z.js";import"./_commonjs-dynamic-modules-psZwOBky.js";function $(){const[g,y]=i.useState([]),[p,h]=i.useState(!0),[n,o]=i.useState(1),[d,N]=i.useState(5),[m,w]=i.useState("All"),[P,_]=i.useState([]),f=Array.from({length:10},(e,s)=>`/portfolio/images/fallback_${s+1}.jpg`);function k(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return Math.abs(s)}i.useEffect(()=>{h(!0);const e=Object.assign({"../blogs/first-post.md":()=>v(()=>import("./first-post-CNBr69Oa.js"),[]).then(t=>t.default),"../blogs/second-post.md":()=>v(()=>import("./second-post-BSRM8DxM.js"),[]).then(t=>t.default)}),s=Object.keys(e).map(t=>({path:t,importFn:e[t]}));Promise.all(s.map(async t=>{const c=await t.importFn(),{attributes:l,body:r}=L(c),j=t.path.split("/").pop().replace(".md",""),E=l.image?`/portfolio/images/${l.image.replace(/^.*[\\/]/,"")}`:f[k(j)%f.length];return{slug:j,metadata:{...l,image:E},preview:r.split(`
`).slice(0,3).join(" "),fullContent:r}})).then(t=>{t.sort((l,r)=>l.metadata.date&&r.metadata.date?new Date(r.metadata.date)-new Date(l.metadata.date):0),y(t);const c=new Set;t.forEach(l=>{l.metadata.tags&&l.metadata.tags.forEach(r=>c.add(r))}),_(["All",...Array.from(c)]),h(!1)})},[]);const u=m==="All"?g:g.filter(e=>e.metadata.tags?.includes(m)),b=n*d,A=b-d,S=u.slice(A,b),x=Math.ceil(u.length/d);return a.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-16 mt-5",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Blog"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:P.map(e=>a.jsx("button",{onClick:()=>{w(e),o(1)},className:`px-3 py-1 rounded ${m===e?"bg-blue-600 text-white":"bg-gray-200  text-gray-800 "}`,children:e},e))}),p?a.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500 border-opacity-60"})}):a.jsx("div",{className:"flex flex-col space-y-6",children:S.map((e,s)=>a.jsxs(C,{to:`/blog/${e.slug}`,className:"flex flex-col md:flex-row border rounded-md hover:shadow-lg cursor-pointer bg-gray-50  overflow-hidden min-h-[200px]",children:[e.metadata.image&&a.jsx("div",{className:"w-full md:w-48 aspect-square overflow-hidden flex-shrink-0",children:a.jsx("img",{src:e.metadata.image,alt:e.metadata.title,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"p-4 flex-1 flex flex-col justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-xl",children:e.metadata.title}),a.jsx("p",{className:"text-sm text-gray-500",children:e.metadata.date}),e.metadata.tags&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.metadata.tags.map(t=>a.jsx("span",{className:"text-xs bg-gray-300  px-2 py-0.5 rounded",children:t},t))}),a.jsx("div",{className:"mt-2 text-gray-700  text-sm prose ",children:a.jsx(M,{remarkPlugins:[O],children:e.preview+"..."})})]})})]},s))}),!p&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:["Posts per page:"," ",a.jsxs("select",{value:d,onChange:e=>{N(Number(e.target.value)),o(1)},className:"border rounded px-2 py-1 bg-white text-black ",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:n===1,className:"px-3 py-1 border rounded disabled:opacity-50","aria-label":"Previous page",children:"←"}),a.jsxs("span",{children:[n," / ",x]}),a.jsx("button",{onClick:()=>o(e=>Math.min(x,e+1)),disabled:n===x,className:"px-3 py-1 border rounded disabled:opacity-50","aria-label":"Next page",children:"→"})]})]})]})}export{$ as default};
