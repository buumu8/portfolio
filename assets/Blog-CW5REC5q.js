import M from"./first-post-CNBr69Oa.js";import E from"./second-post-BSRM8DxM.js";import{r,j as a,L}from"./index-Bjujol4W.js";import{f as O,M as T,r as $}from"./index-Bm1tJoFb.js";import"./_commonjs-dynamic-modules-psZwOBky.js";function I(){const[g,N]=r.useState([]),[f,p]=r.useState(!0),[o,d]=r.useState(1),[n,y]=r.useState(5),[c,w]=r.useState("All"),[P,_]=r.useState([]),h=Array.from({length:10},(e,t)=>`/portfolio/images/fallback_${t+1}.jpg`);function k(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return Math.abs(t)}r.useEffect(()=>{p(!0);const t=Object.entries(Object.assign({"../blogs/first-post.md":M,"../blogs/second-post.md":E})).map(([l,i])=>{const{attributes:x,body:j}=O(i),v=l.split("/").pop().replace(".md",""),C=x.image?`/portfolio/images/${x.image.replace(/^.*[\\/]/,"")}`:h[k(v)%h.length];return{slug:v,metadata:{...x,image:C},preview:j.split(`
`).slice(0,3).join(" "),fullContent:j}});t.sort((l,i)=>l.metadata.date&&i.metadata.date?new Date(i.metadata.date)-new Date(l.metadata.date):0);const s=new Set;t.forEach(l=>{l.metadata.tags&&l.metadata.tags.forEach(i=>s.add(i))}),_(["All",...Array.from(s)]),N(t),p(!1)},[]);const u=c==="All"?g:g.filter(e=>e.metadata.tags?.includes(c)),b=o*n,S=b-n,A=u.slice(S,b),m=Math.ceil(u.length/n);return a.jsxs("section",{className:"max-w-5xl mx-auto px-4 py-16 mt-5",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Blog"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:P.map(e=>a.jsx("button",{onClick:()=>{w(e),d(1)},className:`px-3 py-1 rounded ${c===e?"bg-blue-600 text-white":"bg-gray-200  text-gray-800"}`,children:e},e))}),f?a.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500 border-opacity-60"})}):a.jsx("div",{className:"flex flex-col space-y-6",children:A.map((e,t)=>a.jsxs(L,{to:`/blog/${e.slug}`,className:"flex flex-col md:flex-row border rounded-md hover:shadow-lg cursor-pointer bg-gray-50  overflow-hidden min-h-[200px]",children:[e.metadata.image&&a.jsx("div",{className:"w-full md:w-48 aspect-square overflow-hidden flex-shrink-0",children:a.jsx("img",{src:e.metadata.image,alt:e.metadata.title,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"p-4 flex-1 flex flex-col justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-xl",children:e.metadata.title}),a.jsx("p",{className:"text-sm text-gray-500",children:e.metadata.date}),e.metadata.tags&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.metadata.tags.map(s=>a.jsx("span",{className:"text-xs bg-gray-300  px-2 py-0.5 rounded",children:s},s))}),a.jsx("div",{className:"mt-2 text-gray-700  text-sm prose ",children:a.jsx(T,{remarkPlugins:[$],children:e.preview+"..."})})]})})]},t))}),!f&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("label",{className:"flex items-center gap-2",children:["Posts per page:"," ",a.jsxs("select",{value:n,onChange:e=>{y(Number(e.target.value)),d(1)},className:"border rounded px-2 py-1 bg-white text-black ",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:o===1,className:"px-3 py-1 border rounded disabled:opacity-50","aria-label":"Previous page",children:"←"}),a.jsxs("span",{children:[o," / ",m]}),a.jsx("button",{onClick:()=>d(e=>Math.min(m,e+1)),disabled:o===m,className:"px-3 py-1 border rounded disabled:opacity-50","aria-label":"Next page",children:"→"})]})]})]})}export{I as default};
